import React, { useState, useEffect, useContext } from "react";
import {
  View,
  Text,
  Image,
  StyleSheet,
  ImageBackground,
  Modal,
  ScrollView,
  TouchableOpacity,
  Keyboard,
} from "react-native";
import Svg, { SvgProps, Path } from "react-native-svg"
import { SafeAreaView } from "react-native-safe-area-context";
import * as LocalAuthentication from "expo-local-authentication";
import Checkbox from "expo-checkbox";
import { StatusBar } from "expo-status-bar";
import {
  Input,
  Spinner,
  CustomSnackBar,
  CustomButton,
} from "../../../components/index";
import { AntDesign, Ionicons } from "@expo/vector-icons";
import { COLORS, images, height } from "../../../constants";
import {
  KeyMobileLogoSVG,
  BeyondSvg,
  LoginAvatar,
} from "../../../constants/icons";
import { useDispatch, useSelector } from "react-redux";

export default function ResetSuccess({ navigation }) {
  return (
    // <ScrollView>
    <View style={styles.container1}>
      <StatusBar style="light" />
      <View style={styles.backgroundImgContainer}>
        <ImageBackground source={images.headerImg} style={styles.backgroundImg}>
          <View style={styles.container2}>
            <View style={styles.logoContainer}>
              <Ionicons name="menu" size={24} color="white" />
              <KeyMobileLogoSVG />
            </View>
            <View style={styles.nameContainer}>
              <Text style={styles.name}>Welcome Olalekan!</Text>
            </View>
          </View>
        </ImageBackground>
      </View>

      <View style={styles.afterBgImage}>
          <View style={styles.sucessIcon}>
          <SuccessIcon />
          </View>
        
        <CustomButton buttonText="Continue" 
        onPress={() => navigation.navigate("key mobile")}
        />
      </View>
    </View>
    // </ScrollView>
  );
}

const SuccessIcon = (props) => (
    <Svg
      width={224}
      height={111}
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
      {...props}
    >
      <Path
        d="m3.512 93.364 2.813 8.841h.108l2.818-8.841h2.727L7.967 105h-3.17L.778 93.364h2.733ZM13.38 105V93.364h7.84v2.028h-5.38v2.773h4.977v2.028H15.84v2.779h5.403V105H13.38Zm9.796 0V93.364h4.591c.88 0 1.63.157 2.25.471.625.31 1.1.752 1.427 1.324.329.568.494 1.237.494 2.006 0 .772-.167 1.437-.5 1.994-.334.553-.817.977-1.45 1.273-.628.295-1.39.443-2.283.443H24.63v-1.977h2.676c.47 0 .86-.065 1.17-.194a1.39 1.39 0 0 0 .694-.579c.155-.258.233-.578.233-.96 0-.387-.078-.712-.233-.978a1.428 1.428 0 0 0-.7-.602c-.31-.14-.702-.21-1.175-.21h-1.66V105h-2.46Zm6.284-5.296L32.352 105h-2.716l-2.83-5.296h2.653Zm6.677-6.34V105h-2.46V93.364h2.46ZM38.16 105V93.364h7.704v2.028H40.62v2.773h4.733v2.028H40.62V105h-2.46Zm11.82-11.636V105h-2.46V93.364h2.46Zm12.29 4.073h-2.488a2.436 2.436 0 0 0-.278-.858c-.14-.253-.32-.47-.54-.647a2.376 2.376 0 0 0-.762-.41 2.912 2.912 0 0 0-.926-.141c-.602 0-1.127.15-1.574.448-.447.296-.793.728-1.04 1.296-.246.564-.369 1.25-.369 2.057 0 .829.123 1.526.37 2.091.25.564.598.99 1.045 1.278.447.288.964.432 1.551.432.33 0 .635-.044.915-.131.284-.087.536-.214.756-.38.22-.171.401-.377.545-.62.148-.242.25-.519.307-.829l2.489.011a4.641 4.641 0 0 1-1.511 2.869c-.429.387-.94.694-1.535.921-.59.223-1.26.335-2.006.335-1.037 0-1.965-.235-2.784-.704-.814-.47-1.458-1.15-1.931-2.04-.47-.89-.705-1.968-.705-3.233 0-1.27.239-2.349.716-3.239.477-.89 1.125-1.568 1.943-2.034.818-.47 1.739-.705 2.761-.705.675 0 1.3.095 1.875.285.58.189 1.093.465 1.54.83.447.359.81.8 1.091 1.323.284.523.466 1.121.546 1.796ZM65.823 105h-2.637l4.017-11.636h3.17L74.385 105h-2.636l-2.915-8.977h-.09L65.821 105Zm-.165-4.574h6.227v1.921h-6.227v-1.921Zm8.263-5.034v-2.028h9.557v2.028h-3.563V105h-2.432v-9.608H73.92Zm13.59-2.028V105h-2.46V93.364h2.46Zm12.718 5.818c0 1.269-.24 2.348-.722 3.238-.477.891-1.128 1.571-1.954 2.04-.822.466-1.746.699-2.773.699-1.034 0-1.962-.235-2.784-.704-.822-.47-1.472-1.15-1.949-2.04-.477-.89-.716-1.968-.716-3.233 0-1.27.239-2.349.716-3.239.477-.89 1.127-1.568 1.949-2.034.822-.47 1.75-.705 2.784-.705 1.027 0 1.95.235 2.773.705.826.466 1.477 1.144 1.954 2.034.481.89.722 1.97.722 3.239Zm-2.494 0c0-.822-.123-1.515-.37-2.08-.242-.564-.585-.992-1.028-1.284-.443-.291-.962-.437-1.557-.437s-1.114.145-1.557.437c-.443.292-.788.72-1.034 1.284-.242.565-.363 1.258-.363 2.08 0 .822.12 1.515.363 2.079.246.565.591.993 1.034 1.284.444.292.962.438 1.557.438s1.114-.146 1.557-.438c.443-.291.786-.719 1.028-1.284.247-.564.37-1.257.37-2.08Zm14.049-5.818V105h-2.125l-5.062-7.324h-.085V105h-2.461V93.364h2.16l5.022 7.318h.103v-7.318h2.448Zm12.049 3.346c-.046-.458-.241-.814-.586-1.068-.344-.254-.812-.38-1.403-.38-.401 0-.74.056-1.017.17-.277.11-.489.263-.636.46-.144.197-.216.42-.216.67a.96.96 0 0 0 .13.546c.099.155.233.29.404.403.17.11.367.207.591.29.223.08.462.148.716.205l1.045.25c.508.113.974.265 1.398.454.424.19.791.423 1.102.7.311.276.551.601.722.976.174.375.263.805.267 1.29-.004.712-.186 1.33-.546 1.852-.356.519-.871.923-1.545 1.211-.671.284-1.479.426-2.426.426-.94 0-1.758-.144-2.455-.432-.693-.288-1.235-.714-1.625-1.278-.386-.569-.589-1.271-.608-2.108h2.381c.026.39.138.715.335.977.201.257.468.453.801.585.337.129.718.193 1.142.193.417 0 .779-.06 1.085-.182.311-.121.552-.289.722-.505.171-.216.256-.464.256-.745a.969.969 0 0 0-.233-.659c-.152-.178-.375-.329-.671-.454a6.743 6.743 0 0 0-1.074-.341l-1.267-.318c-.981-.239-1.755-.612-2.323-1.12-.569-.507-.851-1.19-.847-2.05-.004-.705.184-1.32.562-1.847.383-.527.908-.938 1.574-1.233.667-.296 1.425-.444 2.273-.444.864 0 1.618.148 2.261.444.648.295 1.152.706 1.512 1.233.36.526.545 1.136.557 1.83h-2.358Zm11.359-3.346h2.46v7.556c0 .849-.202 1.591-.608 2.228-.401.636-.964 1.132-1.687 1.488-.724.353-1.566.529-2.529.529-.965 0-1.81-.176-2.534-.529-.723-.356-1.286-.852-1.687-1.488-.402-.637-.602-1.379-.602-2.228v-7.556h2.46v7.346c0 .443.096.837.29 1.182.197.345.473.616.829.813.356.197.771.295 1.244.295.478 0 .892-.098 1.245-.295a2.08 2.08 0 0 0 .824-.813 2.34 2.34 0 0 0 .295-1.182v-7.346Zm14.751 4.073h-2.488a2.428 2.428 0 0 0-.279-.858c-.14-.253-.32-.47-.539-.647a2.381 2.381 0 0 0-.762-.41 2.912 2.912 0 0 0-.926-.141c-.602 0-1.127.15-1.574.448-.447.296-.793.728-1.039 1.296-.247.564-.37 1.25-.37 2.057 0 .829.123 1.526.37 2.091.25.564.598.99 1.045 1.278.447.288.964.432 1.551.432.33 0 .635-.044.915-.131a2.42 2.42 0 0 0 .756-.38c.219-.171.401-.377.545-.62a2.41 2.41 0 0 0 .307-.829l2.488.011a4.513 4.513 0 0 1-.482 1.546 4.647 4.647 0 0 1-1.029 1.323 4.821 4.821 0 0 1-1.534.921c-.591.223-1.259.335-2.006.335-1.038 0-1.966-.235-2.784-.704-.814-.47-1.458-1.15-1.932-2.04-.469-.89-.704-1.968-.704-3.233 0-1.27.239-2.349.716-3.239.477-.89 1.125-1.568 1.943-2.034.818-.47 1.739-.705 2.761-.705.675 0 1.3.095 1.875.285a4.75 4.75 0 0 1 1.54.83c.447.359.811.8 1.091 1.323.284.523.466 1.121.545 1.796Zm12.032 0h-2.489a2.427 2.427 0 0 0-.278-.858c-.14-.253-.32-.47-.54-.647a2.387 2.387 0 0 0-.761-.41 2.919 2.919 0 0 0-.927-.141c-.602 0-1.126.15-1.573.448-.447.296-.794.728-1.04 1.296-.246.564-.37 1.25-.37 2.057 0 .829.124 1.526.37 2.091.25.564.598.99 1.045 1.278.447.288.964.432 1.551.432.33 0 .635-.044.915-.131a2.42 2.42 0 0 0 .756-.38 2.19 2.19 0 0 0 .545-.62 2.41 2.41 0 0 0 .307-.829l2.489.011a4.537 4.537 0 0 1-.483 1.546 4.647 4.647 0 0 1-1.029 1.323 4.821 4.821 0 0 1-1.534.921c-.591.223-1.259.335-2.005.335-1.038 0-1.966-.235-2.785-.704-.814-.47-1.458-1.15-1.931-2.04-.47-.89-.705-1.968-.705-3.233 0-1.27.239-2.349.716-3.239.477-.89 1.125-1.568 1.943-2.034.818-.47 1.739-.705 2.762-.705a5.97 5.97 0 0 1 1.875.285c.579.189 1.092.465 1.539.83.447.359.811.8 1.091 1.323.284.523.466 1.121.546 1.796Zm1.764 7.563V93.364h7.841v2.028h-5.381v2.773h4.977v2.028h-4.977v2.779h5.404V105h-7.864Zm16.109-8.29c-.045-.458-.24-.814-.585-1.068-.345-.254-.812-.38-1.403-.38-.402 0-.741.056-1.017.17-.277.11-.489.263-.637.46-.144.197-.216.42-.216.67a.96.96 0 0 0 .131.546c.099.155.233.29.403.403.171.11.368.207.591.29.224.08.462.148.716.205l1.046.25c.507.113.973.265 1.397.454.425.19.792.423 1.103.7.31.276.551.601.721.976.175.375.264.805.267 1.29-.003.712-.185 1.33-.545 1.852-.356.519-.871.923-1.546 1.211-.67.284-1.479.426-2.426.426-.939 0-1.757-.144-2.454-.432-.693-.288-1.235-.714-1.625-1.278-.387-.569-.589-1.271-.608-2.108h2.38c.027.39.139.715.336.977.2.257.468.453.801.585.337.129.718.193 1.142.193.417 0 .778-.06 1.085-.182.311-.121.551-.289.722-.505a1.17 1.17 0 0 0 .255-.745.964.964 0 0 0-.233-.659c-.151-.178-.375-.329-.67-.454a6.81 6.81 0 0 0-1.074-.341l-1.267-.318c-.981-.239-1.756-.612-2.324-1.12-.568-.507-.85-1.19-.846-2.05-.004-.705.183-1.32.562-1.847.383-.527.907-.938 1.574-1.233.667-.296 1.424-.444 2.273-.444.863 0 1.617.148 2.261.444.648.295 1.152.706 1.511 1.233.36.526.546 1.136.557 1.83h-2.358Zm10.485 0c-.046-.458-.241-.814-.586-1.068-.344-.254-.812-.38-1.403-.38-.401 0-.74.056-1.017.17-.277.11-.489.263-.636.46-.144.197-.216.42-.216.67a.96.96 0 0 0 .13.546c.099.155.233.29.404.403.17.11.367.207.591.29.223.08.462.148.716.205l1.045.25c.508.113.974.265 1.398.454.424.19.791.423 1.102.7.311.276.551.601.722.976.174.375.263.805.267 1.29-.004.712-.186 1.33-.546 1.852-.356.519-.871.923-1.545 1.211-.671.284-1.479.426-2.426.426-.94 0-1.758-.144-2.455-.432-.693-.288-1.235-.714-1.625-1.278-.386-.569-.589-1.271-.608-2.108h2.381c.026.39.138.715.335.977.201.257.468.453.801.585.337.129.718.193 1.142.193.417 0 .779-.06 1.085-.182.311-.121.552-.289.722-.505.171-.216.256-.464.256-.745a.969.969 0 0 0-.233-.659c-.152-.178-.375-.329-.671-.454a6.743 6.743 0 0 0-1.074-.341l-1.267-.318c-.981-.239-1.755-.612-2.323-1.12-.569-.507-.851-1.19-.847-2.05-.004-.705.184-1.32.562-1.847.383-.527.908-.938 1.574-1.233.667-.296 1.425-.444 2.273-.444.864 0 1.618.148 2.261.444.648.295 1.152.706 1.512 1.233.36.526.545 1.136.557 1.83h-2.358Zm4.172 8.29V93.364h7.704v2.028h-5.244v2.773h4.733v2.028h-4.733V105h-2.46Zm16.546-11.636h2.461v7.556c0 .849-.203 1.591-.608 2.228-.402.636-.964 1.132-1.688 1.488-.723.353-1.566.529-2.528.529-.966 0-1.811-.176-2.534-.529-.724-.356-1.286-.852-1.688-1.488-.401-.637-.602-1.379-.602-2.228v-7.556h2.46v7.346c0 .443.097.837.29 1.182.197.345.473.616.829.813.357.197.771.295 1.245.295.477 0 .892-.098 1.244-.295.356-.197.631-.468.824-.813a2.34 2.34 0 0 0 .295-1.182v-7.346ZM215.535 105V93.364h2.46v9.608h4.989V105h-7.449Z"
        fill="#0D205E"
      />
      <Path
        d="M112 74c20.434 0 37-16.566 37-37S132.434 0 112 0C91.565 0 75 16.566 75 37s16.565 37 37 37Z"
        fill="#002561"
      />
      <Path
        d="M130.218 21.383c.467.381-6.444 9.68-15.433 20.76l-5.455 6.615-.749.905-.792-.82c-7.066-7.25-11.829-12.62-11.49-12.96.34-.34 5.724 4.452 12.96 11.476l-1.526.155 5.342-6.684c8.989-11.151 16.663-19.829 17.143-19.447Z"
        fill="#fff"
      />
    </Svg>
  )
  

  
const styles = StyleSheet.create({
  container1: {
    flex: 1,
    flexDirection: "column",
  },
  logoContainer: {
    flexDirection: "row",
    justifyContent: "space-between",
    alignItems: "center",
  },
  backgroundImgContainer: {
    flex: 1,
  },
  backgroundImg: {
    width: "100%",
    height: "100%",
    resizeMode: "contain",
  },
  nameContainer: {
    marginTop: 40,
    paddingTop: "15%",
  },
  name: {
    color: COLORS.white,
    textAlign: "center",
    fontWeight: "bold",
    fontSize: 20,
  },
  sucessIcon: {
flexDirection: 'row',
justifyContent: 'center'

  },
  afterBgImage: {
    flex: 2,
    marginTop: -10,
    paddingHorizontal: "8%",
    borderTopLeftRadius: 10,
    borderTopRightRadius: 10,
    backgroundColor: COLORS.white,
    justifyContent: 'space-around'
  },
  container2: {
    paddingHorizontal: "8%",
    paddingVertical: 60,
  },
  logo: {
    // height: 40,
    // width: 40,
  },
  container2Text1: {
    marginTop: 40,
    fontSize: 20,
    color: COLORS.white,
    fontWeight: "bold",
  },
  container2Text2: {
    fontSize: 24,
    color: COLORS.white,
    fontWeight: "bold",
  },
  container2Text3: {
    fontSize: 13,
    color: COLORS.grey,
    marginTop: 12,
    marginBottom: 30,
  },
  container3: {
    flexDirection: "row",
    justifyContent: "space-between",
  },
  container3Text: {
    color: "#002561",
    fontWeight: "700",
    fontSize: 13,
  },
  container4: {
    flexDirection: "row",
    alignItems: "center",
  },
  checkbox: {
    marginRight: 6,
    width: 12,
    height: 12,
    borderWidth: 1,
    borderColor: "#002561",
  },
  container5: {
    paddingTop: 60,
    paddingHorizontal: "8%",
    flexDirection: "row",
    justifyContent: "center",
    alignItems: "center",
  },
  container6: {
    alignContent: "center",
    alignItems: "center",
    marginLeft: 10,
  },
  container6Text: {
    paddingTop: 5,
    color: COLORS.danger,
    textAlign: "center",
    fontSize: 10,
  },
  buttonOutline: {
    backgroundColor: "white",
    borderWidth: 1,
    borderColor: COLORS.primaryBlue,
    marginTop: 25,
  },
  buttonText: {
    color: COLORS.primaryBlue,
  },
  buttonInfo: {
    color: COLORS.grey,
    textAlign: "center",
    fontSize: 10,
    paddingTop: 5,
  },
});
